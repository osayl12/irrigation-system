
# 🌱 Smart Irrigation System

מערכת השקיה חכמה המבוססת על ESP32, חיישנים, שרת צד־שרת מלא (Node.js),
פרוטוקול MQTT ו־REST API, עם ממשק WEB לניהול ובקרה.

---

## 👤 פרטי מגישים
- **שם מלא:** אוסיל חאמד
- **תעודת זהות:** 208913798

- **שם מלא:**  דינה נאש
- **תעודת זהות:** 311487185

---

## 🎯 מטרת הפרויקט
מימוש מערכת השקיה חכמה התומכת במספר מצבי עבודה, חיסכון במים,
בקרה בזמן אמת, שמירת נתונים וסטטיסטיקות, בהתאם לדרישות המטלה.

---

## ⚙️ ארכיטקטורת המערכת
- **ESP32** – קריאת חיישנים, שליטה במשאבה, לוגיקת השקיה
- **MQTT (Mosquitto)** – תקשורת בזמן אמת
- **Backend (Node.js + Express)** – API, MQTT Client, בסיס נתונים
- **Database (MySQL)** – שמירת חיישנים, לוג השקיות, צריכת מים
- **Frontend (React)** – ממשק משתמש לשליטה, סטטוס וסטטיסטיקות

---

## 🔄 מצבי עבודה

### 🖐 Manual Mode
- שליטה ידנית במשאבה דרך ממשק WEB
- הגנת אור:
  - באור חזק → מופיעה התראה
  - ניתן להפעיל בכפייה (Override)

---

### 🌡 Temperature Mode (TEMP)
- קובע השקיה לפי טמפרטורה:
  - **ימים חמים (≥30°C):**
    - 3 פעמים ביום
    - 3 שעות כל פעם
  - **ימים קרים (<30°C):**
    - 2 פעמים ביום
    - 2 שעות כל פעם
- שעות קבועות במהלך היום
- הגנת אור: השקיה רק בצל / לילה / בוקר
- איפוס יומי בחצות

---

### 🌱 Soil Moisture Mode (SOIL)
- השקיה לפי לחות אדמה:
  - אדמה יבשה → המשאבה נדלקת
  - לחות חזרה לערך הרצוי → המשאבה נכבית
- כולל היסטרזיס למניעת הדלקה/כיבוי תכופים
- הגנת אור מופעלת

---

### 🕯 Scheduled Mode (SHABBAT)
- השקיה מתוזמנת לפי בחירת המשתמש:
  - Start Time
  - End Time
  - Times per day
  - Duration per irrigation
- אינו תלוי בחיישנים
- אינו בודק יום בשבוע (מצב מתוזמן כללי)
- מתאפס אוטומטית בחצות

---

## 💧 חיסכון במים והגנות
- חיישן אור למניעת השקיה בשמש חזקה
- לוג השקיות עם:
  - זמן התחלה
  - זמן סיום
  - משך השקיה
  - צריכת מים (ליטר)
- חישוב צריכת מים לפי קצב זרימה קבוע (L/min)

---

## 📊 נתונים וסטטיסטיקות
- דגימות חיישנים:
  - טמפרטורה
  - לחות אדמה
  - עוצמת אור
- שמירה **4 פעמים ביום**:
  - 00:00
  - 06:00
  - 12:00
  - 18:00
- הצגת גרפים שבועיים בממשק WEB

---

## 🔌 טכנולוגיות
- ESP32 (Arduino)
- MQTT (Mosquitto)
- Node.js + Express
- MySQL
- React
- Axios
- Chart.js

---

## ✅ סיכום
המערכת מממשת את כל דרישות המטלה:
- עבודה בזמן אמת
- הפרדה מלאה בין ESP / WEB
- חיסכון במים
- בקרה, תיעוד וסטטיסטיקות
- ממשק משתמש מלא ונוח

